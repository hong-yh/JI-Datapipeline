<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>JI-DataPipeline</title>
    <link rel="stylesheet" type="text/css" href="{{ style }}">
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
</head>

<body class="body">
  <header class="header">
      <span class="azure">
        <span class="title">
            Deep Learning for Anomaly Detection
        </span>
        <span class="fl_right">
            <span class="middle">
                <nav>
                    Power
                    Stock
                    Covid-19
                </nav>
            </span>
        </span>
      </span>
  </header>

  <div id="main">
    <article>
        <div class="container">
            <!-- Heading -->
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">Anomaly Detection for Streaming Electricity Consumption Data</h1>
                </div>
            </div>

            <hr>

            <div id="container" style="min-width:400px;height:400px"></div>
            <script>
              var chart = null;
				chart = Highcharts.chart('container', {
					chart: {
						zoomType: 'x'
					},
					title: {
						text: 'Power Usage data'
					},
					subtitle: {
						text: document.ontouchstart === undefined ?
                    	'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in'
					},
					xAxis: {
						type: 'datetime',
						dateTimeLabelFormats: {
							millisecond: '%H:%M:%S.%L',
							second: '%H:%M:%S',
							minute: '%H:%M',
							hour: '%H:%M',
							day: '%m-%d',
							week: '%m-%d',
							month: '%Y-%m',
							year: '%Y'
						}
					},
					tooltip: {
						dateTimeLabelFormats: {
							millisecond: '%H:%M:%S.%L',
							second: '%H:%M:%S',
							minute: '%H:%M',
							hour: '%H:%M',
							day: '%Y-%m-%d',
							week: '%m-%d',
							month: '%Y-%m',
							year: '%Y'
						}
					},
					yAxis: {
						title: {
							text: 'Global active power'
						}
					},
					legend: {
						enabled: false
					},
					plotOptions: {
						area: {
							fillColor: {
								linearGradient: {
									x1: 0,
									y1: 0,
									x2: 0,
									y2: 1
								},
								stops: [
									[0, new Highcharts.getOptions().colors[0]],
									[1, new Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
								]
							},
							marker: {
								radius: 2
							},
							lineWidth: 1,
							states: {
								hover: {
									lineWidth: 1
								}
							},
							threshold: null
						}
					},
					series: [{
						name: 'data',
						data: {{all_data}}
					},{
				type: 'scatter',
				color: 'rgba(255, 0, 0, 1)',

						name: 'abnormal',
						data: {{abnormal_data}}
					}]
				});
            </script>

            <div id="reactEntry">
                Loading ...
            </div>
        </div>
        <!-- Center Column -->
        <!--/container-fluid-->
    </article>

    <nav>
        <a href="http://en.sjtu.edu.cn/academics/schools/the-um-sjtu-joint-institute/">UM-SJTU Joint Institute</a>
        <a href="https://www.datapipeline.com/">Beijing DataPipeline Limited</a>
<!--        Diagram<br>-->
<!--        History<br>-->
<!--        Responsibility<br>-->
<!--        Rules<br>-->
    </nav>
  </div>
  <!-- Load JavaScript -->
  <script type="text/javascript" src="{{ url_for('static', filename='js/bundle.js') }}"></script>

</body>
</html>